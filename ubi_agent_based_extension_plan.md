# UBIエージェント・ベース拡張 設計プラン

作成日：2026-01-30  
作成者：Waseda Univ. Management Systems Engineering / 2nd year  
対象：UBIシミュレーターアプリの「エージェント拡張」実装計画

---

## 0. ゴールと前提

### ゴール
- 既存の「UBIシミュレーター（マクロ指標ベース）」に対し、
  - 個人・世帯単位の行動変化を表現できる**エージェントベース拡張**を追加する
  - 政策シナリオ別に「ミクロ行動 → マクロ結果」の因果を可視化する

### 前提
- 実装は**Python（FastAPI or Flask）＋フロント（Next.js or React）**を想定
- シミュレーターはすでに以下の機能を持つものとする：
  - 税・給付パラメータを入力
  - マクロな指標（GDP成長率、貧困率、インフレ）を簡易表示
- 新規拡張は
  - 「計算ロジック：バックエンド」
  - 「可視化：フロント」
  - 「ナレッジ：UBIレポート」の3レイヤーで考える

---

## 1. エージェントモデル設計

### 1.1 エージェントの種類

1. 個人エージェント（Person）
   - 属性：年齢、性別、学歴、職種、賃金、貯蓄、家族構成ID、健康状態
   - 行動：労働供給（働く/働かない/時間数）、消費・貯蓄配分、教育投資、起業選択

2. 世帯エージェント（Household）
   - 属性：世帯収入、子ども人数、住宅費、地域
   - 行動：住宅選択、教育支出、医療支出、投票行動（オプション）

3. 企業エージェント（Firm）※初期は簡略化
   - 属性：業種、生産性、賃金水準、雇用数
   - 行動：雇用調整（採用・解雇）、賃金設定、価格設定

### 1.2 エージェントの状態変数

- 所得：労働所得＋UBI給付－税金
- 労働時間：週あたり0〜60時間
- 主観的幸福度：0〜10スコア
- 健康リスク：0〜1（確率）
- 教育/スキルレベル：0〜10

---

## 2. 意思決定ロジック（行動ルール）

### 2.1 労働供給の意思決定

- ベース：労働供給弾性を使ったシンプルモデル
- 効用最大化問題（簡略版）：
  - U = α * 消費 + β * 余暇 − γ * ストレス
- ルール例：
  - UBI前：最低限の生活費を確保するまで労働時間を増やす
  - UBI後：生活費が確保されていれば
    - ストレスが高い職→離職や転職を選びやすい
    - 教育投資をしたい人→一時的に労働時間を減らし学習に回す

### 2.2 消費・貯蓄・教育投資

- ルール例：
  - 可処分所得Yを
    - 生活必需品 50〜70%
    - 教育/自己投資 0〜20%
    - 貯蓄 0〜30%
  に割り当て
- UBI導入後：
  - 余剰がある層は教育投資比率を増やす
  - 不安スコアが高い層は貯蓄比率を増やす

### 2.3 起業・転職

- 起業意欲スコア E ∈ [0,1] をもつ
- UBIがあることで「失敗時のリスク」が低下 → 一定閾値以上で起業へ
- 転職は「現在の賃金・ストレス vs 期待賃金・期待ストレス」を比較して決定

---

## 3. シミュレーション・フロー

### 3.1 タイムステップ

- 単位：1年を12期（1か月）で離散化
- 各期で：
  1. 政策パラメータ適用（UBI金額、税率、福祉制度）
  2. 企業が雇用・賃金・価格を更新
  3. 個人・世帯が
     - 所得更新
     - 労働供給決定
     - 消費/貯蓄/投資決定
  4. マクロ指標を集計
     - GDP近似、失業率、貧困率、ジニ係数、平均幸福度など

### 3.2 初期分布の生成

- 日本の統計（総務省・厚労省）を元に
  - 所得分布
  - 家族構成
  - 職種構成
- 実装上は「代表世帯×ウェイト」の形に圧縮

---

## 4. UI/UX設計アイデア

### 4.1 パラメータ入力

- UBI額（月額）
- 対象（全国民 / 低所得層のみ / 地域限定）
- 税制（所得税率、消費税率、法人税率、社会保険料）
- 期間（年数）

### 4.2 可視化コンポーネント

1. マクロビュー
   - 年次のGDP成長率・インフレ率・貧困率推移グラフ
2. ミクロビュー
   - ランダムに選んだ5〜10世帯の「ライフストーリー」
     - 労働時間
     - 所得
     - 教育投資
     - 主観的幸福度
3. 分布ビュー
   - 所得分布ヒストグラム
   - ジニ係数推移

---

## 5. 実装フェーズと工数感

### フェーズ1：プロトタイプ（約20〜30時間）

- 代表世帯100〜500体でのシミュレーション
- UBIあり/なしでの単純比較
- マクロ指標のみ可視化

### フェーズ2：行動ルール拡張（+20〜30時間）

- 起業・転職・教育投資のルール追加
- 幸福度・不安スコアの導入
- ミクロビュー・分布ビュー実装

### フェーズ3：UX磨き込み（+20時間〜）

- ストーリーモード（特定人物にフォーカス）
- シナリオ比較（タブ切り替え）
- 結果の説明テキストを自動生成（LLM連携）

---

## 6. リスクと簡略化方針

- 理論的には複雑だが、実装では
  - パラメータは少数に絞る
  - 行動ルールは「直感的で説明しやすいもの」に限定
- 「正確な予測」ではなく
  - トレードオフの構造を理解するための「教育用シミュレーター」と位置付ける
